<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="authentication.css">
    <script src="https://kit.fontawesome.com/dd61417c3c.js" crossorigin="anonymous"></script>
    <title>REGISTER</title>
</head>
<body>
    <div class="vh-100 d-flex flex-nowrap justify-content-center align-items-center">
        <div class="h-75 shadow-lg border rounded-5">
            <div class="h-25 border rounded-4 text-center d-flex flex-nowrap justify-content-center align-items-center">
                <h4 class="text-white text-decoration-underline">REGISTRATION</h4>
            </div>
            <div class="mx-4 bg-white">
                <div class="mb-5 bg-white">
                    <h3 class="bg-white">Username <span class="text-danger bg-white">*</span></h3>
                    <input id="userName" class="fs-3 px-2 rounded-3 bg-white" type="text">
                </div>
                <div class="mb-5 bg-white">
                    <h3 class="bg-white">Email <span class="text-danger bg-white">*</span></h3>
                    <input id="email" class="fs-3 px-2 rounded-3 bg-white" type="text">
                </div>
                <div class="mb-5 bg-white">
                    <h3 id="passH3" class="bg-white">Password <span class="text-danger bg-white">*</span></h3>
                    <input id="password" class="fs-3 px-2 rounded-3 bg-white" type="password">
                </div>
                <div class="mb-5 bg-white">
                    <h3 id="cPassH3" class="bg-white">Confirm Password <span class="text-danger bg-white">*</span></h3>
                    <input id="cPassword" class="fs-3 px-2 rounded-3 bg-white" type="password">
                    <span id="wrongPass" class="fs-5 bg-white">.</span>
                </div>
                <button id="regBtn" class="w-100 rounded-3" disabled>REGISTER</button>
            </div>
        </div>
    </div>

<script>
    const regBtn = document.getElementById('regBtn');
    const userName = document.getElementById('userName');
    const email = document.getElementById('email');
    const password = document.getElementById('password');
    const cPassword = document.getElementById('cPassword');

    function checkFields() {
        const userNameValue = userName.value.trim();
        const emailValue = email.value.trim();
        const passwordValue = password.value.trim();
        const cPasswordValue = cPassword.value.trim();
        const wrongPassword = document.getElementById('wrongPass').innerHTML;

        if (userNameValue !== '' && emailValue !== '' && passwordValue !== '' && cPasswordValue !== '' && wrongPassword == '.') {
            regBtn.disabled = false;
            regBtn.style.backgroundColor = '#24315c';
            regBtn.style.color = 'white';
        } else {
            regBtn.disabled = true;
            regBtn.style.backgroundColor = '#7f8fc0';
            regBtn.style.color = 'rgb(231, 231, 231)';
        }
    }

    userName.addEventListener('keyup', checkFields);
    email.addEventListener('keyup', checkFields);
    password.addEventListener('keyup', checkFields);
    cPassword.addEventListener('keyup', checkFields);

    function checkPassword() {
        const regBtn = document.getElementById('regBtn');
        const password = document.getElementById('password');
        const cPassword = document.getElementById('cPassword');
        const wrongPassword = document.getElementById('wrongPass');
        const passH3 = document.getElementById('passH3');
        const cPassH3 = document.getElementById('cPassH3');
        
        if (password.value === cPassword.value) {
            wrongPassword.innerHTML = "."
            password.style.border = "3px solid rgb(168, 168, 168)"
            cPassword.style.border = "3px solid rgb(168, 168, 168)"
            passH3.style.color = 'black'
            cPassH3.style.color = 'black'
            regBtn.disabled = false;
            regBtn.style.backgroundColor = '#24315c';
            regBtn.style.color = 'white';
        } else {
            wrongPassword.style.color = "red"
            wrongPassword.innerHTML = "Incorrect Password"
            password.style.border = "2px solid red"
            cPassword.style.border = "2px solid red"
            passH3.style.color = 'red'
            cPassH3.style.color = 'red'
            regBtn.disabled = true;
            regBtn.style.backgroundColor = '#7f8fc0';
            regBtn.style.color = 'rgb(231, 231, 231)';
        }
    }
    
    cPassword.addEventListener('keyup' , checkPassword)
</script>
</body>
</html>